à¦¹à§à¦¯à¦¾à¦ ğŸ‘
**nested YAML â†’ Java mapping à¦•à¦°à¦¾à¦° à¦†à¦°à¦“ à¦•à§Ÿà§‡à¦•à¦Ÿà¦¾ â€œvalid & usedâ€ way à¦†à¦›à§‡**à¥¤
à¦†à¦®à¦¿ à¦à¦—à§à¦²à§‹à¦•à§‡ **WHEN to use + HOW + pros/cons** à¦¦à¦¿à§Ÿà§‡ à¦¸à¦¾à¦œà¦¾à¦šà§à¦›à¦¿, à¦¯à§‡à¦¨ à¦¤à§à¦®à¦¿ situation à¦…à¦¨à§à¦¯à¦¾à§Ÿà§€ à¦¬à§‡à¦›à§‡ à¦¨à¦¿à¦¤à§‡ à¦ªà¦¾à¦°à§‹à¥¤

---

## ğŸ§  Context recap

Nested YAML à¦®à¦¾à¦¨à§‡ à¦à¦®à¦¨ structure ğŸ‘‡

```yml
api-gateway:
  token:
    user: admin
    password: secret
```

à¦à¦Ÿà¦¾ Java-à¦¤à§‡ map à¦•à¦°à¦¾à¦° **à¦à¦•à¦¾à¦§à¦¿à¦• à¦°à¦¾à¦¸à§à¦¤à¦¾** à¦†à¦›à§‡à¥¤

---

# âœ… WAY-1: Nested static classes (STANDARD, à¦¤à§à¦®à¦¿ à¦†à¦—à§‡à¦‡ à¦¦à§‡à¦–à§‡à¦›à§‹)

### Java

```java
@ConfigurationProperties(prefix = "api-gateway")
public class ApiGatewayProperties {

    private Token token;

    public static class Token {
        private String user;
        private String password;
        // getters/setters
    }
}
```

### à¦•à¦–à¦¨ use à¦•à¦°à¦¬à§‡

* Strong typing à¦¦à¦°à¦•à¦¾à¦°
* Banking / enterprise default choice

âœ”ï¸ Clean
âœ”ï¸ Type-safe
âŒ à¦à¦•à¦Ÿà§ à¦¬à§‡à¦¶à¦¿ boilerplate

---

# âœ… WAY-2: **Flatten prefix** (SIMPLER, very common)

### YAML

```yml
api-gateway-token:
  user: admin
  password: secret
```

### Java

```java
@ConfigurationProperties(prefix = "api-gateway-token")
public class ApiGatewayTokenProperties {
    private String user;
    private String password;
}
```

### à¦•à¦–à¦¨ use à¦•à¦°à¦¬à§‡

* Nested structure logically à¦¦à¦°à¦•à¦¾à¦° à¦¨à¦¾à¦‡
* Small config (credentials, flags)

âœ”ï¸ Simple
âœ”ï¸ Less code
âŒ Logical grouping YAML-à¦ à¦¹à¦¾à¦°à¦¾à§Ÿ

ğŸ‘‰ **Banks-à¦ credentials à¦à¦° à¦œà¦¨à§à¦¯ à¦à¦Ÿà¦¾ à¦–à§à¦¬ common**

---

# âœ… WAY-3: Multiple `@ConfigurationProperties` (Domain split)

### YAML

```yml
api-gateway:
  token:
    user: admin
    password: secret
  timeout:
    connect: 3000
```

### Java

```java
@ConfigurationProperties(prefix = "api-gateway.token")
class ApiGatewayTokenProperties {
    private String user;
    private String password;
}

@ConfigurationProperties(prefix = "api-gateway.timeout")
class ApiGatewayTimeoutProperties {
    private int connect;
}
```

### à¦•à¦–à¦¨ use à¦•à¦°à¦¬à§‡

* Same YAML tree
* Different teams / responsibilities

âœ”ï¸ Very modular
âœ”ï¸ Clean ownership
âŒ Too many classes if abused

---

# âœ… WAY-4: `Map<String, Object>` (DYNAMIC / UNKNOWN KEYS)

### YAML

```yml
features:
  f1: true
  f2: false
  beta-login: true
```

### Java

```java
@ConfigurationProperties(prefix = "features")
public class FeatureFlagsProperties {
    private Map<String, Boolean> flags;
}
```

or

```java
private Map<String, Object> features;
```

### à¦•à¦–à¦¨ use à¦•à¦°à¦¬à§‡

* Feature flags
* Unknown keys
* Dynamic config

âœ”ï¸ Flexible
âŒ No compile-time safety

---

# âš ï¸ WAY-5: `@Value` with nested path (NOT recommended)

```java
@Value("${api-gateway.token.user}")
private String user;
```

### à¦•à§‡à¦¨ avoid à¦•à¦°à¦¬à§‡

* Scattered config
* Hard to test
* No grouping

ğŸ‘‰ **Only 1â€“2 values à¦¹à¦²à§‡ tolerate à¦•à¦°à¦¾ à¦¯à¦¾à§Ÿ**

---

# ğŸ§© Comparison table (quick decision)

| Way                 | Use when                  | Bank usage |
| ------------------- | ------------------------- | ---------- |
| Nested static class | Structured, stable config | â­â­â­â­â­      |
| Flatten prefix      | Small/simple config       | â­â­â­â­       |
| Split prefixes      | Ownership separation      | â­â­â­â­       |
| Map                 | Dynamic flags             | â­â­â­        |
| @Value              | One-off value             | â­          |

---

## ğŸ§  Golden Rule (remember this)

> **Structure in YAML â†’ Structure in Java**
> **Complexity in YAML â†’ POJO**
> **Dynamic YAML â†’ Map**

---

## ğŸ¯ Interview-ready line

> â€œNested YAML can be mapped using nested POJOs, flattened prefixes, split configuration classes, or Maps depending on structure stability, ownership, and type-safety requirements.â€

---

à¦¯à¦¦à¦¿ à¦šà¦¾à¦“, next à¦†à¦®à¦¿:

* ğŸ” à¦¤à§‹à¦®à¦¾à¦° YAML à¦¦à§‡à¦–à§‡ **best mapping suggest** à¦•à¦°à¦¬à§‹
* ğŸ§ª Nested config unit test à¦²à¦¿à¦–à§‡ à¦¦à§‡à¦¬à§‹
* ğŸ”„ Config refresh impact à¦¦à§‡à¦–à¦¾à¦¬à§‹

à¦¬à¦²à¦²à§‡à¦‡ à¦ªà¦°à§‡à¦° à¦§à¦¾à¦ª ğŸš€
