ржЪрж▓ ржПржХржжржо **practical + copy-paste ready**ржнрж╛ржмрзЗ ржжрзЗржЦрж┐
ЁЯСЙ **YAML-ржП рж▓рзЗржЦрж╛ config ржХрзАржнрж╛ржмрзЗ Java code-ржП use ржХрж░рж╛ рж╣рзЯ**ред

ржЖржорж┐ рзйржЯрж╛ **real enterprise way** ржжрзЗржЦрж╛ржмрзЛтАФржХржЦржи ржХрзЛржиржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗ рж╕рзЗржЯрж╛ржУ ржмрж▓ржмрзЛред

---

## ЁЯза Big idea (ржЖржЧрзЗ ржорж╛ржерж╛рзЯ ржмрж╕рж╛ржУ)

> **YAML = config data**
> 
> **Java = consumer**
> 
> **Spring Boot = binder**

Spring ржирж┐ржЬрзЗржЗ YAML ржкрзЬрзЗ Java-рждрзЗ ржврзБржХрж┐рзЯрзЗ ржжрзЗрзЯред

---

# тЬЕ WAY-1 (BEST PRACTICE): `@ConfigurationProperties` тнРтнРтнР

### YAML

```yml
digitalAuthWebClient:
  url: https://auth-dev.api.jpmchase.net
  uri: /authz/v1
  connectTimeout: 30000
  readTimeout: 30000
```

---

### Java config class

```java
@Configuration
@ConfigurationProperties(prefix = "digitalAuthWebClient")
public class DigitalAuthWebClientConfig {

    private String url;
    private String uri;
    private Integer connectTimeout;
    private Integer readTimeout;

    // getters & setters
}
```

ЁЯФ╣ **kebab-case тЖТ camelCase auto map рж╣рзЯ**
`connectTimeout` тЗР `connectTimeout`

---

### Service-ржП ржмрзНржпржмрж╣рж╛рж░

```java
@Service
public class DigitalAuthService {

    private final DigitalAuthWebClientConfig config;

    public DigitalAuthService(DigitalAuthWebClientConfig config) {
        this.config = config;
    }

    public void call() {
        String fullUrl = config.getUrl() + config.getUri();
    }
}
```

тЬЕ Clean
тЬЕ Type-safe
тЬЕ Banking / enterprise standard

---

# тЬЕ WAY-2: Nested YAML тЖТ Nested Java (REAL use case)

### YAML

```yml
appStatusWebClient:
  url: https://api-p2-qa.jpmchase.net
  restEndpoint:
    uri: /applications/{id}/accounts
  oauth2:
    enabled: true
    client-id: cc-123
```

---

### Java mapping

```java
@Configuration
@ConfigurationProperties(prefix = "appStatusWebClient")
public class AppStatusWebClientConfig {

    private String url;
    private RestEndpoint restEndpoint;
    private Oauth2 oauth2;

    public static class RestEndpoint {
        private String uri;
        // getter/setter
    }

    public static class Oauth2 {
        private boolean enabled;
        private String clientId;
        // getter/setter
    }

    // getters & setters
}
```

ЁЯСЙ **YAML tree = Java object tree**

---

# тЪая╕П WAY-3: `@Value` (SMALL / NOT recommended for big config)

### YAML

```yml
server:
  port: 8080
```

### Java

```java
@Value("${server.port}")
private int port;
```

тЭМ Big YAML-ржП messy
тЭМ No grouping
тЭМ Hard to test

ЁЯСЙ **Only use for 1тАУ2 simple values**

---

# ЁЯФБ Config Server ржерж╛ржХрж▓рзЗ ржХрзА ржмржжрж▓рж╛рзЯ?

**ржХрж┐ржЫрзБржЗ ржирж╛ ЁЯШД**

YAML ржпрзЗржЦрж╛ржи ржерзЗржХрзЗржЗ ржЖрж╕рзБржХ:

* app repo
* config repo
* config server
* CDN

рж╢рзЗрж╖рзЗ Spring ржПржЯрж╛ржХрзЗ ржПржХржЗржнрж╛ржмрзЗ bind ржХрж░рзЗред

```text
Config Server
   тЖУ
Spring Environment
   тЖУ
@ConfigurationProperties
```

---

# ЁЯФД Runtime refresh (advanced)

### Java

```java
@RefreshScope
@ConfigurationProperties(prefix = "digitalAuthWebClient")
public class DigitalAuthWebClientConfig {
   ...
}
```

### Trigger

```
POST /actuator/refresh
```

ЁЯСЙ YAML change тЖТ app restart ржЫрж╛рзЬрж╛ржЗ Java value update ЁЯФе

---

# ЁЯзк Test-ржП ржХрзАржнрж╛ржмрзЗ use ржХрж░ржмрзЗ?

```java
@SpringBootTest
class ConfigTest {

    @Autowired
    DigitalAuthWebClientConfig config;

    @Test
    void shouldLoadConfig() {
        assertNotNull(config.getUrl());
    }
}
```

---

# ЁЯПж Enterprise rule (remember this)

| Situation     | Use                        |
| ------------- | -------------------------- |
| Large YAML    | `@ConfigurationProperties` |
| Nested config | Nested POJO                |
| Config Server | Same binding               |
| CI/CD env     | Same binding               |
| One-off value | `@Value` (rare)            |

---

## ЁЯОп Interview-ready one-liner

> тАЬWe consume YAML configuration using `@ConfigurationProperties`, which binds hierarchical configuration into type-safe Java POJOs. This works seamlessly with Config Server and CI/CD-driven environment profiles.тАЭ

---

## ЁЯза Mental model

> **YAML writes тЖТ Spring reads тЖТ Java uses**

---

ржЪрж╛ржУ рждрзЛ next ржЖржорж┐ ржжрзЗржЦрж╛рждрзЗ ржкрж╛рж░рж┐:

* ЁЯзй рждрзЛржорж╛рж░ real YAML тЖТ exact Java class generate ржХрж░рзЗ
* ЁЯФН `/actuator/env` ржжрж┐рзЯрзЗ runtime verify
* ЁЯзк Unit test + mock config
* тШ╕ Kubernetes ConfigMap тЖТ Java binding

ржмрж▓рж▓рзЗржЗ next step ЁЯЪА
